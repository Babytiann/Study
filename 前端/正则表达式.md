## 正则表达式的基本组成部分

1. **普通字符**：字母、数字、空格、符号等直接表示它们自身。例如，`a` 就匹配字符 "a"，`123` 匹配字符串 "123"。

2. **元字符**：一些字符在正则表达式中具有特殊意义，它们用来构造复杂的匹配规则。常见的元字符包括：

   - `.`：匹配任意单个字符（除了换行符）。

   - `^`：匹配字符串的开头。

   - `$`：匹配字符串的结尾。

   - `*`：匹配前面的**字符**零次或多次。

   - `+`：匹配前面的**字符**一次或多次。

   - `?`：匹配前面的**字符**零次或一次。  （当然你要是用括号括起来也可以被视作一块（一个字符）

     ​									e.g.  \d{5}(-\d{4})?意思就是匹配**-\d{4}**零次或一次)

   - `|`：表示“或”操作符。

   - `()`：用于分组，将多个字符或表达式视为一个整体。

   - `[]`：匹配括号内的任意字符（字符集），如 `[a-z]` 表示匹配所有小写字母。

3. **转义字符**：由于一些字符具有特殊意义，如果你想匹配它们本身，需要使用反斜杠 `\` 进行转义。例如，`.` 作为元字符匹配任意字符，但 `\.` 可以匹配一个点。

4. **量词**：用于指定前面字符出现的次数：

   - `{n}`：匹配前面的字符正好 n 次。
   - `{n,}`：匹配前面的字符至少 n 次。
   - `{n,m}`：匹配前面的字符至少 n 次，最多 m 次。

5. **字符类**：用来指定可以匹配的字符集合。比如：

   - `\d`：匹配任何数字字符，相当于 `[0-9]`。
   - `\D`：匹配任何非数字字符，相当于 `[^0-9]`。
   - `\w`：匹配任何字母、数字或下划线字符，相当于 `[a-zA-Z0-9_]`。
   - `\W`：匹配任何非字母、数字或下划线字符。
   - `\s`：匹配空白字符（空格、制表符等）。
   - `\S`：匹配非空白字符。

6. **边界**：

   - `\b`：单词边界。(加载前面比如\bcat，表示以cat开头的单词)

   - `\B`：非单词边界。

## 正则表达式的例子

1. **匹配邮箱地址**：

   ```regex
   regex
   
   
   复制代码
   [a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}
   ```

   这个正则表达式匹配典型的电子邮件地址，包含用户名部分、@ 符号和域名。

2. **匹配电话号码（美国格式）**：

   ```
   regex
   
   
   复制代码
   \(\d{3}\) \d{3}-\d{4}
   ```

   这个正则表达式匹配像 `(123) 456-7890` 这样的电话号码格式。

3. **匹配日期（YYYY-MM-DD 格式）**：

   ```
   regex
   
   
   复制代码
   \d{4}-\d{2}-\d{2}
   ```

   它可以匹配像 `2023-10-20` 这样的日期格式。

## 元字符的具体说明

#### 1. **`.`（点号）**

- **作用**：匹配除换行符以外的任意单个字符。

- 位置

  ：通常写在你希望匹配任意字符的地方。

  - 示例：正则表达式 `a.b` 可以匹配 `aab`、`acb` 等，但不匹配 `ab`。
  - 不能直接放在字符类 `[]` 内，因为在字符类中，它就变成了普通的点号字符。

#### 2. **`^`（插入符号）**

- **作用**：匹配字符串的开头。

- 位置

  ：通常位于正则表达式的开头，用来指示字符串必须从这个位置开始。

  - 示例：`^abc` 匹配以 `abc` 开头的字符串，比如 `abc123`。

- 例外

  ：在字符类 

  ```
  []
  ```

   中，

  ```
  ^
  ```

   出现在第一个位置时表示 

  取反

  ，即匹配不在字符集中的任意字符。

  - 示例：`[^0-9]` 表示匹配非数字字符。

#### 3. **`$`（美元符号）**

- **作用**：匹配字符串的结尾。

- 位置

  ：通常放在正则表达式的末尾，表示字符串必须在这个位置结束。

  - 示例：`abc$` 匹配以 `abc` 结尾的字符串，比如 `123abc`。

#### 4. **`*`（星号）**

- **作用**：匹配前面的字符 **零次或多次**。

- 位置

  ：紧跟在你希望重复的字符或字符类后面。

  - 示例：`a*` 匹配零个或多个 `a`，即可以匹配空字符串、`a`、`aa` 等。

#### 5. **`+`（加号）**

- **作用**：匹配前面的字符 **一次或多次**。

- 位置

  ：紧跟在你希望重复的字符或字符类后面。

  - 示例：`a+` 匹配一个或多个 `a`，即可以匹配 `a`、`aa`，但不匹配空字符串。

#### 6. **`?`（问号）**

- **作用**：匹配前面的字符 **零次或一次**。

- 位置

  ：紧跟在你希望匹配零次或一次的字符后面。

  - 示例：`a?` 匹配零个或一个 `a`，即可以匹配空字符串或者 `a`。

#### 7. **`|`（竖线）**

- **作用**：表示“或”操作符，用来在两个或多个模式之间选择。

- 位置

  ：在两个模式之间，用来表示其中一个可以被匹配。

  - 示例：`abc|def` 匹配 `abc` 或 `def`。

#### 8. **`()`（括号）**

- **作用**：用于分组，将多个字符或表达式视为一个整体；还可以用于提取匹配的子字符串。

- 位置

  ：围绕你希望分组或提取的模式。

  - 示例：`(abc)+` 匹配一个或多个 `abc`，如 `abcabc`。

#### 9. **`[]`（方括号）**

- **作用**：匹配字符类，匹配方括号内的任意一个字符。

- 位置

  ：用于你希望列出匹配字符的范围或具体字符。

  - 示例：`[0-9]` 匹配任何数字。
  - 示例：`[a-z]` 匹配任何小写字母。

#### 10.?=...（正向前瞻）

​	它检查某个条件是否为真，但不会消耗字符。它的意思是：“后面必须有符合这个条件的东西，但匹配时不把它包含进去。”
​	经常用于判断表达式里面有没有某个东西，但是匹配的时候还要看别的，下面第六个例子就是

## 练习

#### 1. 匹配所有以 `cat` 开头的单词：

- 你的答案：

  ```
  ^(cat)
  ```
  
  - **问题**：这个正则表达式匹配以 `cat` 开头的字符串，但未限制它是一个完整的单词。

  - 建议修改

    ：如果要匹配以 

    ```
    cat
    ```
  
     开头的单词，可以加上单词边界符 

    ```
    \b
    ```
  
    。

    - **建议表达式**：`\bcat`

#### 2. 匹配合法的邮箱地址：

- 你的答案：

  ```
  [a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9]{2,}
  ```
  
  - **问题**：这个表达式基本上是对的，但最后一部分 `\.[a-zA-Z0-9]{2,}` 应该只匹配字母作为顶级域名。

  - 建议修改

    ：限制顶级域名只匹配字母。

    - **建议表达式**：`[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}`

#### 3. 匹配只有数字的字符串：

- 你的答案：

  ```
  [\\d]+
  ```
  
  - **问题**：`\d` 已经是转义好的字符类，双斜杠 `\\` 是多余的。`[]` 也不需要，直接用 `\d`。

  - 建议修改

    ：去掉多余的部分。

    - **建议表达式**：`\d+`

#### 4. 匹配日期格式为 `YYYY-MM-DD` 的字符串：

- 你的答案：

  ```
  \d{4}-\d{2}-\d{2}
  ```
  
  - **问题**：这个表达式正确，能匹配日期格式 `YYYY-MM-DD`。
- **无需修改**，保持原样。

#### 5. 匹配以 `http` 或 `https` 开头的 URL：

- 你的答案：

  ```
  ^(https|http)
  ```
  
  - **问题**：表达式基本正确，但 `https` 应该放在前面，否则可能会截断 `https` 的匹配。

  - 建议修改

    ：确保 

    ```
    https
    ```
  
     在前面，以避免优先匹配 

    ```
    http
    ```
  
    。

    - **建议表达式**：`^https?`

#### 6. 匹配包含至少一个字母和至少一个数字的字符串：

- 你的答案：

  ```
  [0-9]+[a-zA-Z]+
  ```
  
  - **问题**：这个表达式匹配的是“先有数字，接着有字母”的字符串，无法匹配字母和数字交错的情况（如 `a1b2`）。

  - 建议修改

    ：可以使用正向断言来确保既有数字又有字母。

    - **建议表达式**：`(?=.*[0-9])(?=.*[a-zA-Z])[a-zA-Z0-9]+`

#### 7. 匹配 5 位或 9 位的美国邮政编码：

- 你的答案：

  ```
  \d{5}|(\d{5}-\d{4})
  ```
  
  - **问题**：这个表达式基本正确，但外面的括号是多余的。

  - 建议修改

    ：去掉不必要的括号。

    - **建议表达式**：`\d{5}(-\d{4})?`

#### 8. 匹配以大写字母开头的句子，句末可以是句号、问号或感叹号：

- 你的答案：

  ```
  [^A-Z].[$?.!]
  ```
  
  - **问题**：`[^A-Z]` 表示不以大写字母开头，这是与题意相反的。并且 `[$?.!]` 应该使用 `[]` 而非 `$`。

  - 建议修改

    ：使用 

    ```
    ^[A-Z]
    ```
  
     来匹配大写字母开头，并匹配末尾的 .  、? 或 !

    - **建议表达式**：`^[A-Z].*[.!?]$`

## js内置函数验证正则表达式

```
regex.test(str)
```

**参数**：

- `regex` 是一个正则表达式对象。
- `str` 是要测试的字符串。

**返回值**：

- 返回一个布尔值，`true` 表示匹配，`false` 表示不匹配。

例子：

```
javascript

const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

// 有效的邮箱
console.log(emailRegex.test("test@example.com")); // true

// 无效的邮箱
console.log(emailRegex.test("not-an-email")); // false

```

